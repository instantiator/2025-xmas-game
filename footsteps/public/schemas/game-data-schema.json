{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "CameraModuleData": {
            "properties": {
                "enabled": {
                    "type": "boolean"
                }
            },
            "required": [
                "enabled"
            ],
            "type": "object"
        },
        "GameChallengeData": {
            "description": "Describes an individual challenge in the game",
            "properties": {
                "displays": {
                    "description": "Displays associated with this challenge",
                    "items": {
                        "$ref": "#/definitions/GameChallengeDisplay"
                    },
                    "type": "array"
                },
                "id": {
                    "description": "Unique id for this challenge",
                    "type": "string"
                },
                "solution": {
                    "$ref": "#/definitions/GameChallengeSolution",
                    "description": "The solution for this challenge"
                }
            },
            "required": [
                "displays",
                "id",
                "solution"
            ],
            "type": "object"
        },
        "GameChallengeDisplay": {
            "properties": {
                "component": {
                    "$ref": "#/definitions/GameDisplayComponentData"
                },
                "purpose": {
                    "$ref": "#/definitions/GameChallengeDisplayPurpose"
                }
            },
            "required": [
                "component",
                "purpose"
            ],
            "type": "object"
        },
        "GameChallengeDisplayPurpose": {
            "enum": [
                "challenge-completed",
                "challenge-in-progress",
                "challenge-title"
            ],
            "type": "string"
        },
        "GameChallengeSolution": {
            "description": "Information about how to respond to a user's game challenge answer",
            "properties": {
                "answers": {
                    "description": "One or more valid solutions for this challenge",
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "autoAccept": {
                    "description": "Automatically accept a user's input if it matches a solution, default: true",
                    "type": "boolean"
                },
                "hints": {
                    "description": "A series of hints, to be offered in order, if requested - leave empty for no hints",
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "ignoreCase": {
                    "description": "Solutions can be matched ignoring case, default: true",
                    "type": "boolean"
                },
                "ignoreWhitespace": {
                    "description": "Solutions can be matched ignoring whitespace, default: true",
                    "type": "boolean"
                },
                "trimWhitespace": {
                    "description": "Solutions can be matched ignoring leading and trailing whitespace, default: true",
                    "type": "boolean"
                }
            },
            "required": [
                "answers",
                "hints"
            ],
            "type": "object"
        },
        "GameDisplayComponentData": {
            "anyOf": [
                {
                    "$ref": "#/definitions/GameDisplayTemplateComponentData"
                },
                {
                    "$ref": "#/definitions/GameDisplayScrollComponentData"
                }
            ]
        },
        "GameDisplayMediaData": {
            "properties": {
                "motionImageResource": {
                    "type": "string"
                },
                "resource": {
                    "type": "string"
                },
                "stillImageResource": {
                    "type": "string"
                },
                "type": {
                    "const": "audio",
                    "type": "string"
                }
            },
            "required": [
                "resource",
                "type"
            ],
            "type": "object"
        },
        "GameDisplayScrollComponentData": {
            "properties": {
                "backgroundStyle": {
                    "$ref": "#/definitions/React.CSSProperties"
                },
                "backgroundTemplate": {
                    "$ref": "#/definitions/GameDisplayTemplateSourceData"
                },
                "backgroundTemplateStyle": {
                    "$ref": "#/definitions/React.CSSProperties"
                },
                "data": {
                    "$ref": "#/definitions/Record%3Cstring%2Cunknown%3E"
                },
                "foregroundStyle": {
                    "$ref": "#/definitions/React.CSSProperties"
                },
                "foregroundTemplate": {
                    "$ref": "#/definitions/GameDisplayTemplateSourceData"
                },
                "foregroundTemplateStyle": {
                    "$ref": "#/definitions/React.CSSProperties"
                },
                "hint": {
                    "type": "string"
                },
                "label": {
                    "type": "string"
                },
                "media": {
                    "$ref": "#/definitions/GameDisplayMediaData"
                },
                "showInput": {
                    "type": "boolean"
                },
                "text": {
                    "type": "string"
                },
                "type": {
                    "const": "scroll",
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "GameDisplayTemplateComponentData": {
            "properties": {
                "backgroundStyle": {
                    "$ref": "#/definitions/React.CSSProperties"
                },
                "backgroundTemplate": {
                    "$ref": "#/definitions/GameDisplayTemplateSourceData"
                },
                "backgroundTemplateStyle": {
                    "$ref": "#/definitions/React.CSSProperties"
                },
                "data": {
                    "$ref": "#/definitions/Record%3Cstring%2Cunknown%3E"
                },
                "foregroundStyle": {
                    "$ref": "#/definitions/React.CSSProperties"
                },
                "foregroundTemplate": {
                    "$ref": "#/definitions/GameDisplayTemplateSourceData"
                },
                "foregroundTemplateStyle": {
                    "$ref": "#/definitions/React.CSSProperties"
                },
                "type": {
                    "const": "template",
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "GameDisplayTemplateSourceData": {
            "properties": {
                "content": {
                    "type": "string"
                },
                "sourceType": {
                    "$ref": "#/definitions/TemplateSourceType"
                },
                "templateSource": {
                    "type": "string"
                }
            },
            "required": [
                "sourceType"
            ],
            "type": "object"
        },
        "GameOverviewDisplay": {
            "properties": {
                "clickIdToStageId": {
                    "$ref": "#/definitions/Record%3Cstring%2Cstring%3E"
                },
                "component": {
                    "$ref": "#/definitions/GameDisplayComponentData"
                },
                "purpose": {
                    "$ref": "#/definitions/GameOverviewDisplayPurpose"
                }
            },
            "required": [
                "component",
                "purpose"
            ],
            "type": "object"
        },
        "GameOverviewDisplayPurpose": {
            "enum": [
                "game-overview-complete",
                "game-overview-stages",
                "game-overview-title"
            ],
            "type": "string"
        },
        "GameResourceDefinitions": {
            "additionalProperties": {
                "properties": {
                    "target": {
                        "type": "string"
                    },
                    "type": {
                        "enum": [
                            "local",
                            "relative",
                            "url"
                        ],
                        "type": "string"
                    }
                },
                "required": [
                    "target",
                    "type"
                ],
                "type": "object"
            },
            "type": "object"
        },
        "GameStageData": {
            "description": "Describes a game stage - including its displays, and the challenges it contains.\nA stage may contain more than one challenge, and may group its challenges together.",
            "properties": {
                "challengeChunking": {
                    "description": "If set, group challenges together in the active layout, otherwise assumes a chunking of 1",
                    "type": "number"
                },
                "challenges": {
                    "description": "All challenges in a stage",
                    "items": {
                        "$ref": "#/definitions/GameChallengeData"
                    },
                    "type": "array"
                },
                "displays": {
                    "description": "Display information for the stage. (Optional.)",
                    "items": {
                        "$ref": "#/definitions/GameStageDisplay"
                    },
                    "type": "array"
                },
                "id": {
                    "description": "Unique id for this stage",
                    "type": "string"
                }
            },
            "required": [
                "challenges",
                "id"
            ],
            "type": "object"
        },
        "GameStageDisplay": {
            "properties": {
                "component": {
                    "$ref": "#/definitions/GameDisplayComponentData"
                },
                "purpose": {
                    "const": "shared",
                    "type": "string"
                }
            },
            "required": [
                "component",
                "purpose"
            ],
            "type": "object"
        },
        "React.CSSProperties": {
            "type": "object"
        },
        "Record<string,string>": {
            "type": "object"
        },
        "Record<string,unknown>": {
            "type": "object"
        },
        "TemplateSourceType": {
            "enum": [
                "embedded",
                "local",
                "relative",
                "url"
            ],
            "type": "string"
        }
    },
    "properties": {
        "config": {
            "properties": {
                "autoAdvanceStages": {
                    "type": "boolean"
                },
                "sequential": {
                    "type": "boolean"
                }
            },
            "required": [
                "autoAdvanceStages",
                "sequential"
            ],
            "type": "object"
        },
        "displays": {
            "items": {
                "$ref": "#/definitions/GameOverviewDisplay"
            },
            "type": "array"
        },
        "gameContainerStyle": {
            "$ref": "#/definitions/React.CSSProperties"
        },
        "modules": {
            "properties": {
                "camera": {
                    "$ref": "#/definitions/CameraModuleData"
                }
            },
            "type": "object"
        },
        "resources": {
            "$ref": "#/definitions/GameResourceDefinitions"
        },
        "stages": {
            "items": {
                "$ref": "#/definitions/GameStageData"
            },
            "type": "array"
        },
        "title": {
            "type": "string"
        }
    },
    "required": [
        "displays",
        "gameContainerStyle",
        "stages",
        "title"
    ],
    "type": "object"
}

