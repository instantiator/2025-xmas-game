{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "CameraModuleData": {
            "properties": {
                "enabled": {
                    "type": "boolean"
                }
            },
            "required": [
                "enabled"
            ],
            "type": "object"
        },
        "GameChallengeData": {
            "description": "Describes an individual challenge in the game",
            "properties": {
                "displays": {
                    "description": "Displays associated with this challenge",
                    "items": {
                        "$ref": "#/definitions/GameChallengeDisplay"
                    },
                    "type": "array"
                },
                "id": {
                    "description": "Unique id for this challenge",
                    "type": "string"
                },
                "solution": {
                    "$ref": "#/definitions/GameChallengeSolution",
                    "description": "The solution for this challenge"
                }
            },
            "required": [
                "displays",
                "id",
                "solution"
            ],
            "type": "object"
        },
        "GameChallengeDisplay": {
            "properties": {
                "component": {
                    "$ref": "#/definitions/GameDisplayComponentData"
                },
                "purpose": {
                    "$ref": "#/definitions/GameChallengeDisplayPurpose"
                }
            },
            "required": [
                "component",
                "purpose"
            ],
            "type": "object"
        },
        "GameChallengeDisplayPurpose": {
            "enum": [
                "challenge-completed",
                "challenge-in-progress",
                "challenge-title"
            ],
            "type": "string"
        },
        "GameChallengeSolution": {
            "description": "Information about how to respond to a user's game challenge answer",
            "properties": {
                "answers": {
                    "description": "One or more valid solutions for this challenge",
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "autoAccept": {
                    "description": "Automatically accept a user's input if it matches a solution, default: true",
                    "type": "boolean"
                },
                "hints": {
                    "description": "A series of hints, to be offered in order, if requested - leave empty for no hints",
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                "ignoreCase": {
                    "description": "Solutions can be matched ignoring case, default: true",
                    "type": "boolean"
                },
                "ignoreWhitespace": {
                    "description": "Solutions can be matched ignoring whitespace, default: true",
                    "type": "boolean"
                },
                "trimWhitespace": {
                    "description": "Solutions can be matched ignoring leading and trailing whitespace, default: true",
                    "type": "boolean"
                }
            },
            "required": [
                "answers",
                "hints"
            ],
            "type": "object"
        },
        "GameDisplayComponentData": {
            "anyOf": [
                {
                    "$ref": "#/definitions/GameDisplayTemplateComponentData"
                },
                {
                    "$ref": "#/definitions/GameDisplayScrollComponentData"
                }
            ]
        },
        "GameDisplayScrollComponentData": {
            "properties": {
                "contentTemplate": {
                    "$ref": "#/definitions/GameDisplayTemplate"
                },
                "data": {
                    "$ref": "#/definitions/Record%3Cstring%2Cunknown%3E"
                },
                "hint": {
                    "type": "string"
                },
                "label": {
                    "type": "string"
                },
                "showInput": {
                    "type": "boolean"
                },
                "type": {
                    "const": "scroll",
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "GameDisplayTemplate": {
            "properties": {
                "content": {
                    "type": "string"
                },
                "sourceType": {
                    "$ref": "#/definitions/TemplateSourceType"
                },
                "templateSource": {
                    "type": "string"
                }
            },
            "required": [
                "sourceType"
            ],
            "type": "object"
        },
        "GameDisplayTemplateComponentData": {
            "properties": {
                "backgroundStyle": {
                    "$ref": "#/definitions/React.CSSProperties"
                },
                "backgroundTemplate": {
                    "$ref": "#/definitions/GameDisplayTemplate"
                },
                "data": {
                    "$ref": "#/definitions/Record%3Cstring%2Cunknown%3E"
                },
                "foregroundStyle": {
                    "$ref": "#/definitions/React.CSSProperties"
                },
                "foregroundTemplate": {
                    "$ref": "#/definitions/GameDisplayTemplate"
                },
                "type": {
                    "const": "template",
                    "type": "string"
                }
            },
            "required": [
                "data",
                "type"
            ],
            "type": "object"
        },
        "GameOverviewDisplay": {
            "properties": {
                "clickIdToStageId": {
                    "$ref": "#/definitions/Record%3Cstring%2Cstring%3E"
                },
                "component": {
                    "$ref": "#/definitions/GameDisplayComponentData"
                },
                "purpose": {
                    "$ref": "#/definitions/GameOverviewDisplayPurpose"
                }
            },
            "required": [
                "component",
                "purpose"
            ],
            "type": "object"
        },
        "GameOverviewDisplayPurpose": {
            "enum": [
                "game-overview-stages",
                "game-overview-title"
            ],
            "type": "string"
        },
        "GameStageData": {
            "description": "Describes a game stage - including its displays, and the challenges it contains.\nA stage may contain more than one challenge, and may group its challenges together.",
            "properties": {
                "challengeChunking": {
                    "description": "If set, group challenges together in the active layout, otherwise assumes a chunking of 1",
                    "type": "number"
                },
                "challenges": {
                    "description": "All challenges in a stage",
                    "items": {
                        "$ref": "#/definitions/GameChallengeData"
                    },
                    "type": "array"
                },
                "displays": {
                    "description": "Display information for the stage. (Optional.)\nDefaults to undefined for overview, completed, and activeLayout.",
                    "properties": {
                        "completed": {
                            "$ref": "#/definitions/GameStageDisplay",
                            "description": "The completed view for the stage (if not provided, the game will return to the overview if all challenges are complete)"
                        },
                        "overview": {
                            "$ref": "#/definitions/GameStageDisplay",
                            "description": "The overview for the stage (if not provided, the stage will show the first incomplete challenge)"
                        }
                    },
                    "type": "object"
                },
                "id": {
                    "description": "Unique id for this stage",
                    "type": "string"
                }
            },
            "required": [
                "challenges",
                "id"
            ],
            "type": "object"
        },
        "GameStageDisplay": {
            "properties": {
                "clickIdToChallengeId": {
                    "$ref": "#/definitions/Record%3Cstring%2Cstring%3E"
                },
                "component": {
                    "$ref": "#/definitions/GameDisplayComponentData"
                },
                "purpose": {
                    "const": "stage-overview",
                    "type": "string"
                }
            },
            "required": [
                "component",
                "purpose"
            ],
            "type": "object"
        },
        "React.CSSProperties": {
            "type": "object"
        },
        "Record<string,string>": {
            "type": "object"
        },
        "Record<string,unknown>": {
            "type": "object"
        },
        "TemplateSourceType": {
            "enum": [
                "embedded",
                "relative",
                "url"
            ],
            "type": "string"
        }
    },
    "properties": {
        "displays": {
            "items": {
                "$ref": "#/definitions/GameOverviewDisplay"
            },
            "type": "array"
        },
        "gameContainerStyle": {
            "$ref": "#/definitions/React.CSSProperties"
        },
        "modules": {
            "properties": {
                "camera": {
                    "$ref": "#/definitions/CameraModuleData"
                }
            },
            "type": "object"
        },
        "stages": {
            "items": {
                "$ref": "#/definitions/GameStageData"
            },
            "type": "array"
        },
        "title": {
            "type": "string"
        }
    },
    "required": [
        "displays",
        "gameContainerStyle",
        "stages",
        "title"
    ],
    "type": "object"
}

